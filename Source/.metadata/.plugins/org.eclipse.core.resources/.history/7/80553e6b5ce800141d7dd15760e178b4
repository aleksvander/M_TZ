//Авторизация - выход
function login(idInput) {
	deleteallcookie2(); // Глобальный "выход"
	if (idInput == "login") {
		createCookie('username', document.getElementById("loginName").value);
		
		post('/', {'idUseraaa' : '1'}, 'POST');
	} else {
		//deleteCookie('username');
		//deleteCookie('userid');
		formOnChange(idInput);
	}
}

//Задачи
//Создание задачи - старт
function createTask(name) {
	if (createCookie('currentTask', name))
		formOnChange('taskCreate');
	else
		var x = 0;/// Выводим сообщение об ошибке
}

//Удаление задачи - остановка
function deleteCurentTask() {
	
	if (get_cookie('taskid') == null) {
		createCookie('taskid', id_task);
	}
		
	if (loadJSON('rest/tasks/setTaskTime/' + c)){
		stopTimer(); 
		deleteCookie('currentTask');
		deleteCookie('taskid');
		formOnChange('stopTask');
	} else {
		alert('Что то пошло не так...');
	}
}

//Т.К. В браузере не так быстро удаляются куки как бы хотелось... паралельно используем дупост
function postGet(path, params, method) {
    method = method || "post"; // Set method to post by default if not specified.

    // The rest of this code assumes you are not using a library.
    // It can be made less wordy if you use one.
    var form = document.createElement("form");
    form.setAttribute("method", method);
    form.setAttribute("action", path);

    for(var key in params) {
        if(params.hasOwnProperty(key)) {
            var hiddenField = document.createElement("input");
            hiddenField.setAttribute("type", "hidden");
            hiddenField.setAttribute("name", key);
            hiddenField.setAttribute("value", params[key]);

            form.appendChild(hiddenField);
         }
    }

    document.body.appendChild(form);
    form.submit();
}