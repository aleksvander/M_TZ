package ru.adnovotelnov.ejb.dao;

import java.util.List;

import javax.ejb.Local;
import javax.ejb.Stateful;
import javax.ejb.Stateless;
import javax.persistence.EntityManager;

import com.google.gson.Gson;

import model_JPA.User;

/**
 * Session Bean implementation class UserDaoEJB
 */
@Stateless(name = "userDaoEJB", mappedName = "ejb/userDaoEJB")
@Local
public class UserDaoEJB extends JPADaoEJB<User> {

	@Override
	public List<User> findAllEntities() {
		return em.createNamedQuery("User.findAll").getResultList();
	}

	public List<User> findByName(String custName) {
		//System.out.println("!!!" + em.createNamedQuery("User.findByName").setParameter("custName", custName).getResultList());
		Gson gson = new Gson();
		String i = gson.toJson(em.createNamedQuery("User.findByName").setParameter("custName", custName).getResultList());
		System.out.println(i);
		return null;//fd; //em.createNamedQuery("User.findByName").setParameter("custName", custName).getResultList(); 
	}
	
}
